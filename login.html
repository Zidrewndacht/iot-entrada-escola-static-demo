<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Login </title>
    <link rel="stylesheet" href="normalize.css">
    <link rel="stylesheet" href="style.css">
    </head>

    <body class="bg-light">

        <main role="main" class="container">
            <div  class="login-wrapper" >    
        <span class="login-title">IoT Entrada Escola</span>

        <div class="modal-content" id="modal-login">
        <div class="modal-status" >
            <h1>Login</h1>
            <div id="session-info-field">
                        
            </div>
            </div>
            <form id="loginForm" action="index.html" method="post">
                <input type="hidden" name="csrf_test_name" value="41943c846692a7bc13fde9e905e4bdee">
                <label for="email">Endereço de Email</label>
                <input type="email" id="email" name="email" inputmode="email" autocomplete="email" placeholder="Endereço de Email" value="" >
                
                <label for="password">Senha</label>
                <input type="password" id="password" name="password" inputmode="text" autocomplete="current-password" placeholder="Senha" >
                <label class="form-check-label" for="remember">  Lembrar de mim? </label>
                        <input type="checkbox" name="remember" class="form-check-input" >
                
                <input type="submit" class="btn btn-primary btn-block" value="Login">
            </form>
        </div>
        <footer>     
            <p>&copy; 2024 Luis Alfredo. Este trabalho está licenciado com uma licença<br> 
                <a href="licenses.html">  Creative Commons Attribution-NonCommercial 4.0 International</a>.    
            </p>    
        </footer>
    </main>

    <!-- Added JavaScript for login redirection logic -->
    <script>
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            // Prevent actual form submission
            e.preventDefault();
            
            // Get email input value
            const email = document.getElementById('email').value.trim();
            
            // Redirect logic:
            // - If email is empty -> go to admin (index.html)
            // - If email has value -> go to user (resp.html)
            const targetPage = email === '' ? 'index.html' : 'resp.html';
            
            // Perform redirect
            window.location.href = targetPage;
        });
    </script>
</body>
</html>
